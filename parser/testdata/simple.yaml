services:
  - name: gateway
    endpoints:
      - method: GET
        path: /api/users
        idempotent: true
    dependencies:
      - target: user-svc
        timeout: 3s
        max_retries: 2
        backoff_base: 100ms
        backoff_jitter_enabled: true
        circuit_breaker_enabled: true

  - name: user-svc
    endpoints:
      - method: GET
        path: /users
        idempotent: true
      - method: POST
        path: /users
        idempotent: false
    dependencies:
      - target: db-svc
        timeout: 1s
        max_retries: 1
        backoff_base: 50ms
        backoff_jitter_enabled: false
        circuit_breaker_enabled: false
